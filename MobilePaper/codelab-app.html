<!-- New polymer element -->

<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/font-roboto/roboto.html">

<link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">

<link rel="import" href="bower_components/core-localstorage/core-localstorage.html">

<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-fab/paper-fab.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">

<polymer-element name="codelab-app">
  <template>
    <link rel="stylesheet" href="styles.css">
    <core-drawer-panel id="drawerPanel" responsiveWidth="641px">

      <core-header-panel drawer>
      <core-toolbar>Menu</core-toolbar>
      </core-header-panel>

      <core-header-panel main>
        <core-toolbar>
          <paper-icon-button  icon="menu" core-drawer-toggle>

          </paper-icon-button>
          <span flex>My notes</span>
          <paper-icon-button icon="search"></paper-icon-button>
          <paper-icon-button icon="more-vert"></paper-icon-button>

          <paper-fab icon="icons:add" on-click="{{showNewNoteInput}}"></paper-fab>
        </core-toolbar>

        <div class="content">
          <paper-input  id="newNoteInput"
                        floatingLabel
                        on-change="{{add}}"
                        value="{{newNote}}"
                        label="Add a new note"></paper-input>
          <template repeat="{{data}}" >
            <div center horizontal layout class="item">
              <paper-checkbox checked="{{done}}" on-change="{{dataChanged}}"></paper-checkbox>
              <div flex class="card">
                <p>{{body}}</p>
              </div>
              <!-- paper-icon-button icon="clear" on-click="{{remove}}"></paper-icon-button -->
            </div>
          </template>
        </div>

      </core-header-panel>

    </core-drawer-panel>
    <core-localstorage id="storage" name="codelab-app-storage" value="{{data}}"></core-localstorage>
  </template>
  <script>
    Polymer({
      data: [],
      ready: function() {
        this.$.newNoteInput.style.display = 'none';
      },
      showNewNoteInput: function() {
        this.$.newNoteInput.style.display = 'block';
      },

      add: function() {
        if (this.newNote) {
          this.data.unshift({
            body: this.newNote,
            done: false
          });
          this.$.newNoteInput.style.display = 'none';
          this.$.newNoteInput.value = null;
        }
      },
      remove: function() {

      },
      dataChanged: function() {
        this.$.storage.save();
      }
    });
  </script>
</polymer-element>

<!--
on-click="{{toggleDrawer}}"

toggleDrawer: function() {
this.$.drawerPanel.togglePanel();
}

-->